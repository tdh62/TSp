<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页图设置</title>
    <script src="/global/settings.js"></script>

    <script type='text/javascript' src='../global/js/md5.js'></script>
    <script type='text/javascript' src='../global/js/hmac-sha1.js'></script>
    <script type='text/javascript' src='../js/common.js'></script>

    <link rel="shortcut icon" href="https://pandao.github.io/editor.md/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../component/editor/css/editormd.css">
    <link rel="stylesheet" href="../component/editor/css/style.css">
    <link rel="stylesheet" href="../global/css/element-plus.css">
    <link rel="stylesheet" href="../css/words.css">
    <link rel="stylesheet" href="../css/layouts.css">

    <script type="application/javascript" src="../global/js/axios.js"></script>

    <script type="application/javascript" src="../global/js/vue.global.js"></script>
    <script type="application/javascript" src="../global/js/element-plus.full.js"></script>

    <script type="application/javascript" src="/global/js/jquery.min.js"></script>
    <script src="../component/editor/lib/marked.min.js"></script>
    <script src="../component/editor/lib/prettify.min.js"></script>
    <script src="../component/editor/lib/raphael.min.js"></script>
    <script src="../component/editor/lib/underscore.min.js"></script>
    <script src="../component/editor/lib/sequence-diagram.min.js"></script>
    <script src="../component/editor/lib/flowchart.min.js"></script>
    <script src="../component/editor/lib/jquery.flowchart.min.js"></script>
    <script type="application/javascript" src="/component/editor/js/editormd.js"></script>

    <script src="../component/storage/local.js"></script>
    <script src="../component/storage/COS.js"></script>
    <script src="../component/storage/remote.js"></script>
    <style>
        div{text-align: center;margin: auto}
        body{background: #e0e0e0}
    </style>
    <script src="../js/headerAndFooter.js"></script>
</head>
<body>
<div id="login-main" class="login-window">
    <el-container v-loading="loading">
        <el-row align="middle">
            <el-card header="图床数据记录" style="width: 700px">
                <el-form label-width="50px" class="login-window">
                    TODO: 动态加载
                    <el-form-item label="1">
                        <el-input v-model="banner1"></el-input>
                    </el-form-item>
                    <el-form-item label="2">
                        <el-input v-model="banner2"></el-input>
                    </el-form-item>
                    <el-form-item label="3">
                        <el-input v-model="banner3"></el-input>
                    </el-form-item>
                    <el-form-item label="4">
                        <el-input v-model="banner4"></el-input>
                    </el-form-item>
                    <el-form-item label="5">
                        <el-input v-model="banner5"></el-input>
                    </el-form-item>
                    <el-form-item label="6">
                        <el-input v-model="banner6"></el-input>
                    </el-form-item>
                    <p v-if="!logined">请登录</p>
                    <el-button type="primary" @click="doadd" :disabled="!logined">保存</el-button>
                </el-form>
            </el-card>
        </el-row>
    </el-container>
</div>

<script type="application/javascript">
    lapp = Vue.createApp({
        data(){
            return {"banner1":"","banner2":"","banner3":"","banner4":"","banner5":"","banner6":"","loading":false}
        },
        computed:{
            logined(){
                return remoteStorage.get_login_status()
            }
        },
        mounted(){

        },
        methods:{
            doadd(){
                let _this = this
                this.loading = true
                // 添加记录
                let r = []
                if (this.banner1 !== "")r.push(this.banner1)
                if (this.banner2 !== "")r.push(this.banner2)
                if (this.banner3 !== "")r.push(this.banner3)
                if (this.banner4 !== "")r.push(this.banner4)
                if (this.banner5 !== "")r.push(this.banner5)
                if (this.banner6 !== "")r.push(this.banner6)
                saves_remote("/settings/banner.txt",r,"application/json",()=>{
                    _this.loading = false
                    alert("成功")
                })

            }

        }
    })
    lapp.use(ElementPlus)
    v_app = lapp.mount("#login-main")
</script>
</body>
</html>